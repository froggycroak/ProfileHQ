---

layout: post_a
abbrev: GenParadigm
tags: 技术分享
year: 2024

title: 
title-cn: 建筑设计业务数字化的技术范式综述
team:
team-cn: 胡潜

---

---




在建筑与城市设计领域，计算机辅助设计已从传统的绘图工具演变为能够参与甚至驱动形态生成的重要力量。生成设计作为其前沿方向，旨在通过算法与规则，自动化或半自动化地探索设计解空间，为设计师提供多样、合理且优化的方案选项。其核心在于将设计问题转化为计算机可处理、可运算的模型。本文旨在梳理生成设计中几种关键的技术路径，主要围绕如何表示设计对象（数据结构）、如何定义生成逻辑（规则系统）以及如何求解复杂问题（通用求解）三个层面展开，为相关研究与实践提供参考。

<h5 class="chapter-heading-left">数据结构</h5>

将城市中的形态要素表示成数据是运用计算机程序来推动设计的基础。在此转化过程中，一些经典的数据结构可以供参考使用。

离散格网系统将空间划分为离散的格网单元，并通过变量(0,1)描述格网是否被占据，在精简数据结构的同时一定程度上顾及了建筑固有的“模数”特征。在划分方式中，等距的正交划分最为常见，格网单元的秩序能够借助各坐标轴向的秩序组合而成；非正交的划分方式也是可实现的，现有研究能够在二维空间中实现可变形模板对复杂轮廓形态的填充，形成拓扑连接关系合理的建筑平面图。在对马赛公寓设计过程的数字化诠释中，走道被看作是离散格网中一种固定形状的模板；在中小学的生成设计研究中，走道被描述成一系列连通的格网单元。

空间坐标系将空间中点的位置用它在相互垂直的各个坐标轴上的投影表示出来，再由此衍生出线、面、体的各种描述方式。例如用一系列点坐标形成封闭多段线就能够描述二维平面上的地块、建筑轮廓、房间等封闭区域。坐标系和离散格网的重要差别是没有“占据”的基本概念，形态要素的表达相对自由，向量的运算能够帮助建筑师执行许多“空间操作”。在基于语法规则的生成设计中，空间直角坐标系几乎是默认选项；在一些基于搜索的方法中，运用空间直角坐标系来描述点线面体也是可行的，但有时会使问题解空间过大从而影响搜索效率。

“顶点-边”系统能够用顶点和边两个抽象概念来描述现实空间中的许多问题。这一系统本质上是图结构，强调的是顶点之间的连接关系，也因此常常被用于建筑设计中的拓扑关系描述，如建筑中房间的连接关系；然而，顶点和边都可以携带附加信息，在许多应用中携带位置信息的顶点实质上超越了一般图结构中顶点的含义，具有了拓扑关系和空间位置的双重性质，相当于一组具有特定拓扑关系的“点-线段”。在空间坐标系中运用“顶点-边”系统来描述走道系统也是一种非常有效的策略，如中小学生成设计中的走道系统表示。

<h5 class="chapter-heading-left">规则系统</h5>

在生成设计中，规则系统是一种通过执行规则来生成形态结果的机制。下文主要介绍三类对本研究有帮助的规则系统建立方式，包括将建筑师自上而下的操作转译为程序规则，将已有的几何原型方法适配到建筑学问题上，以及通过分布在多智能体中的规则自下而上地生成形态结果。

生成形态的一种方法是将建筑师操作形态的某些规则转译成代码，通过执行代码得到形态结果。由于建筑师的职业习惯通常不是按照一套规则来“生成”形态结果，这种规则的总结和编写需要具有建筑学知识的人员根据形态结果，结合法规和设计经验，后发地总结出来。

这种从案例中后发总结操作性规则的研究很早就出现了，例如20世纪对帕拉奥迪别墅语法的研究；这一研究实质上已经形成了多步骤可执行的规则系统，能够生成帕拉奥迪别墅的“仿制品”。随着计算机技术的发展，这种规则系统得以被自动执行和充分可视化。Duarte将总结出的规则编写成程序，并运用此程序为用户定制房屋平面；Mahyar将美国住宅建筑中的特定类型转化为形状语法，生成的建筑具有共同风格特征；陈宇龙从南京城南传统建筑中提取规则，并实现了面向异形地块的适应性生成。

除了建筑师的经验总结外，一些计算几何中的原型方法也能为生成规则的编写提供很大便利。将这些原型适配到合适的建筑学问题上，或基于它们的原理来编写新的规则，能够充分利用已有知识解决复杂问题，可以看作是扩充了建筑设计的知识范围。

在城市地块的剖分研究中，Vanegas等总结并提出了生成设计中常用的几何原型方法，包括Voronoi方法，最小面积包围盒方法，偏移和骨架方法等。另一个重要的几何原型方法是向量场。向量场是空间中从点到方向向量的映射，能够建立（具有方向的）形态要素所在位置和朝向之间的关联。走道通常具有明显的方向性，由走道支配的形态与场地本身的形状具有相互关联，通过向量场来间接控制走道的形态是可选方法之一。综合场地要素得到向量场的方法包括径向基函数法，通过数学规划求解最小方差等；参数化建模软件Grasshopper中也提供了向量场相关的功能。

多智能体系统是一种特殊的规则组织方式。将规则分布在不同的“个体”中，由这些个体自组织地执行规则，对环境做出反应，就形成了自下而上执行规则的系统范式。这种执行规则的方式能够弥补一般规则系统在自上而下描述某一过程的不完备性，经个体之间的相互作用和整个系统的逐帧迭代，“涌现”出可能符合建筑师评价标准的形态结果。除了规则制定外，多智能体系统建立的重要步骤是确定代理的对象。已有研究中的多智能体能够代理强排中的建筑单体，建筑内的房间，建筑构件等。对本研究而言，在“顶点-边”系统中用多智能体代理顶点和边，在分散的一系列建筑中用多智能体代理建筑个体都是可能有效的建模方式。

<h5 class="chapter-heading-left">通用求解</h5>

除了运用建筑学知识制定规则和流程外，将建筑学问题表示成特定的形式，运用在各个学科广泛适用的元启发式算法进行求解，也是生成建筑体量的有效方法。进化算法在建筑学领域就有较多的应用，例如解决功能拓扑关系限定下的布局问题，又如处理特定目标导向下的建筑形态优化。这类算法在数据结构本身对解空间有充分限定的情况下能够发挥良好的优化作用，但并不能在多重复杂约束条件下表现出同样的效果（可能给出不满足全部约束的解）。

近年来，随着通用求解器的迅猛发展，上述算法应用范式受到了一定挑战。以Gurobi等商业软件为代表的数学规划求解器能够在短时间内将表示成特定形式的问题通过内置的算法流程高效求解，得到可行解或优化解。在应用这种方法时，应用方程和不等式描述问题是主要任务，求解过程中的算法应用并不需要使用者关心；同时，求解器对多重约束条件也有较好的解决能力，得到的解一定在可行域内，在问题规模可控的情况下能够在有限时间内给出答案。这种应用范式中，求解的通用性得到了很大的提升。它的应用使得处理约束条件较多的城市设计问题更为便捷，例如居住建筑的排布。

然而，这种方法的局限性也是明显的。一方面，通用求解器在问题规模扩大到一定程度时将无法在短时间内完成解算；另一方面，现有求解器对线性规划问题和一些二次规划问题有良好的表现，因而对问题的表示本身提出了要求，即不适宜出现更为复杂的表达式和方程。


<h5 class="chapter-heading-left">总结</h5>

生成设计研究与实践的推进，关键不在于追求某种技术的极致，而在于回归到细分、具体的建筑设计问题本身。设计师或研究者需要首先清晰界定一个“细小而聚焦”的真实业务问题——例如特定类型的空间布局优化、特定规范下的形态生成，或特定流线组织的自动化探索。在此基础上，明智地选取、创造性地组合不同的技术方法（mixed-paradigm）。

对建筑设计为主业的研发团队而言，相比于追逐技术热点，应更加注重这种问题导向、务实整合的策略。通过将宏大的愿景分解为一系列“简明而落实”的子问题，并为之匹配恰当的技术工具组合，生成设计才能真正跨越理论与实践的鸿沟，在具体的业务场景中持续产生扎实、可靠且富有洞见的设计解决方案。

{% include figure_full.html link="http://workhub.oss-cn-shanghai.aliyuncs.com/picture/general/lecture-ppt/gen-paradim-2-2.png" note="本人在华建集团上海院所作相关学术分享" %}